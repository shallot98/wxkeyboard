# Version 1.2.2 测试检查清单

## 核心功能测试

### 垂直滑动手势
- [ ] 在键盘中央向上滑动30pt以上，应该切换输入模式
- [ ] 在键盘中央向下滑动30pt以上，应该切换输入模式
- [ ] 在键盘左侧区域滑动，应该触发模式切换
- [ ] 在键盘右侧区域滑动，应该触发模式切换
- [ ] 慢速滑动（1秒内移动30pt）应该工作
- [ ] 快速滑动（0.2秒内移动30pt）应该工作

### 中英文切换
- [ ] 从中文模式向上滑动，应该切换到英文
- [ ] 从英文模式向下滑动，应该切换到中文
- [ ] 从中文模式向下滑动，应该切换到英文
- [ ] 从英文模式向上滑动，应该切换到中文

### 正常输入功能
- [ ] 点击字母键，应该输入字符
- [ ] 点击数字键，应该输入数字
- [ ] 点击标点符号，应该输入符号
- [ ] 快速连续点击多个键，应该正常输入

### 长按功能
- [ ] 长按字母键，应该显示备选字符（如果支持）
- [ ] 长按空格键，应该触发光标移动或其他长按功能
- [ ] 长按删除键，应该连续删除

### IME相关
- [ ] 输入拼音后，应该显示候选词
- [ ] 选择候选词，应该正常上屏
- [ ] 输入过程中向上滑动，不应该影响已输入的拼音
- [ ] 候选词显示时，手势切换应该清空当前输入

## 边界情况测试

### 手势方向
- [ ] 斜向滑动（45度角），如果垂直分量足够应该触发
- [ ] 水平滑动，不应该触发模式切换
- [ ] 圆形滑动，应该根据初始方向决定

### 快速操作
- [ ] 连续快速向上滑动2次，应该触发2次切换（间隔>250ms）
- [ ] 极快连续滑动（间隔<250ms），第二次应该被忽略
- [ ] 滑动过程中快速改变方向，应该保持初始方向锁定

### 多点触摸
- [ ] 一个手指滑动时，另一个手指点击，应该只处理滑动
- [ ] 两个手指同时操作，应该按第一个触摸点处理

## 性能测试

### 响应时间
- [ ] 滑动开始到模式切换，延迟应该<100ms
- [ ] 点击按键到字符显示，延迟应该正常（无增加）
- [ ] 连续快速点击10个键，应该无卡顿

### 资源占用
- [ ] 检查日志文件大小，应该不会无限增长
- [ ] 长时间使用（输入500+字符），应该无内存泄漏
- [ ] CPU使用率应该正常（无异常高峰）

## 日志验证

检查 `/var/mobile/Library/Logs/wxkeyboard.log`：

### 成功的垂直滑动应该包含：
```
[ViewClass] Touch began at (x, y) - bounds: WxH
[ViewClass] Touch moved: dx=..., dy=... (not locked yet)
[ViewClass] Direction locked to vertical (dx=..., dy=..., ...)
[ViewClass] Blocking original touchesMoved due to vertical swipe
[ViewClass] Vertical swipe in progress: dy=..., absDy=..., threshold=28.0, detected=1
[INFO] [ViewClass] ✓ Up/Down swipe detected: dy=..., distance=...
Available modes: [mode1, mode2, ...]
Successfully switched to [mode] (from [mode])
```

### 正常点击不应该包含：
```
Blocking original touchesMoved
```

### 水平滑动应该包含：
```
[ViewClass] Horizontal movement detected, releasing tracker
```

## 兼容性测试

### 不同应用
- [ ] 在微信中使用键盘
- [ ] 在Safari中使用键盘
- [ ] 在备忘录中使用键盘
- [ ] 在第三方输入框中使用键盘

### 不同状态
- [ ] 键盘刚弹出时
- [ ] 键盘使用一段时间后
- [ ] 切换应用后再返回
- [ ] 锁屏后解锁再使用

## 回归测试

### 之前修复的问题不应该重现：
- [ ] 长按功能正常（v1.2.1修复）
- [ ] 键盘全区域都能触发滑动（v1.2.0）
- [ ] 慢速滑动有效（v1.2.0）
- [ ] 日志文件在正确位置（v1.2.0）

## 测试结果记录

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 垂直滑动 | ⬜ 通过 ⬜ 失败 | |
| 正常输入 | ⬜ 通过 ⬜ 失败 | |
| 长按功能 | ⬜ 通过 ⬜ 失败 | |
| IME功能 | ⬜ 通过 ⬜ 失败 | |
| 性能表现 | ⬜ 通过 ⬜ 失败 | |
| 日志正确 | ⬜ 通过 ⬜ 失败 | |

## 测试环境

- iOS版本: _________
- WeType版本: _________
- 设备型号: _________
- Tweak版本: 1.2.2
- 测试日期: _________

## 已知问题

（记录测试中发现的任何问题）
